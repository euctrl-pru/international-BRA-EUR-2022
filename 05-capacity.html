<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
  <meta charset="utf-8">
  <meta name="generator" content="quarto-0.9.80">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>capacity</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>

  <script src="05-capacity_files/libs/clipboard/clipboard.min.js"></script>
  <script src="05-capacity_files/libs/quarto-html/quarto.js"></script>
  <script src="05-capacity_files/libs/quarto-html/popper.min.js"></script>
  <script src="05-capacity_files/libs/quarto-html/tippy.umd.min.js"></script>
  <script src="05-capacity_files/libs/quarto-html/anchor.min.js"></script>
  <link href="05-capacity_files/libs/quarto-html/tippy.css" rel="stylesheet">
  <link href="05-capacity_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
  <script src="05-capacity_files/libs/bootstrap/bootstrap.min.js"></script>
  <link href="05-capacity_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
  <link href="05-capacity_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet">
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body class="fullcontent">
<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">
<section id="capacity-and-throughput" class="level1">
<h1>Capacity and Throughput</h1>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"_chapter-setup.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stderr">
<pre><code>Warning: package 'tidyverse' was built under R version 4.0.5</code></pre>
</div>
<div class="cell-output-stderr">
<pre><code>-- Attaching packages --------------------------------------- tidyverse 1.3.1 --</code></pre>
</div>
<div class="cell-output-stderr">
<pre><code>v ggplot2 3.3.5     v purrr   0.3.4
v tibble  3.1.2     v dplyr   1.0.7
v tidyr   1.2.0     v stringr 1.4.0
v readr   2.1.2     v forcats 0.5.1</code></pre>
</div>
<div class="cell-output-stderr">
<pre><code>Warning: package 'tibble' was built under R version 4.0.5</code></pre>
</div>
<div class="cell-output-stderr">
<pre><code>Warning: package 'tidyr' was built under R version 4.0.5</code></pre>
</div>
<div class="cell-output-stderr">
<pre><code>Warning: package 'readr' was built under R version 4.0.5</code></pre>
</div>
<div class="cell-output-stderr">
<pre><code>Warning: package 'dplyr' was built under R version 4.0.5</code></pre>
</div>
<div class="cell-output-stderr">
<pre><code>Warning: package 'forcats' was built under R version 4.0.5</code></pre>
</div>
<div class="cell-output-stderr">
<pre><code>-- Conflicts ------------------------------------------ tidyverse_conflicts() --
x dplyr::filter() masks stats::filter()
x dplyr::lag()    masks stats::lag()</code></pre>
</div>
<div class="cell-output-stderr">
<pre><code>Warning: package 'lubridate' was built under R version 4.0.5</code></pre>
</div>
<div class="cell-output-stderr">
<pre><code>
Attaching package: 'lubridate'</code></pre>
</div>
<div class="cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    date, intersect, setdiff, union</code></pre>
</div>
<div class="cell-output-stderr">
<pre><code>Warning: package 'ggrepel' was built under R version 4.0.3</code></pre>
</div>
<div class="cell-output-stderr">
<pre><code>Warning: package 'patchwork' was built under R version 4.0.3</code></pre>
</div>
<div class="cell-output-stderr">
<pre><code>Warning: package 'flextable' was built under R version 4.0.5</code></pre>
</div>
<div class="cell-output-stderr">
<pre><code>
Attaching package: 'flextable'</code></pre>
</div>
<div class="cell-output-stderr">
<pre><code>The following object is masked from 'package:purrr':

    compose</code></pre>
</div>
<div class="cell-output-stderr">
<pre><code>Warning: package 'zoo' was built under R version 4.0.5</code></pre>
</div>
<div class="cell-output-stderr">
<pre><code>
Attaching package: 'zoo'</code></pre>
</div>
<div class="cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    as.Date, as.Date.numeric</code></pre>
</div>
<div class="cell-output-stderr">
<pre><code>Rows: 1039 Columns: 10
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): REG
dbl  (7): ARRS, DEPS, HEAVY, MED, LIGHT, ARRS_DOM, DEPS_DOM
lgl  (1): OVR_FLTS
date (1): DATE

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 1000 Columns: 13
-- Column specification --------------------------------------------------------
Delimiter: ","
chr   (1): REG
dbl  (11): ARRS, DEPS, HEAVY, MED, LIGHT, ARRS_DOM, DEPS_DOM, OVR_FLTS, PAX,...
dttm  (1): DATE

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 9349 Columns: 9
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): APT_ICAO
dbl  (7): ARRS, DEPS, HEAVY, MED, LIGHT, ARRS_DOM, DEPS_DOM
date (1): DATE

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 22977 Columns: 9
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): ICAO
dbl  (7): ARRS, DEPS, HEAVY, MED, LIGHT, ARRS_DOM, DEPS_DOM
date (1): DATE

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 4 Columns: 42
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): AIRPORT
dbl (41): YEAR, RWY, N_TOT, N_ARR, N_DEP, H, MJ, MT, M, LJ, LT, LP, L, H_PER...

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 4 Columns: 42
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): AIRPORT
dbl (41): YEAR, RWY, N_TOT, N_ARR, N_DEP, H, MJ, MT, M, LJ, LT, LP, L, H_PER...

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 4 Columns: 42
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): AIRPORT
dbl (41): YEAR, RWY, N_TOT, N_ARR, N_DEP, H, MJ, MT, M, LJ, LT, LP, L, H_PER...

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 4 Columns: 42
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): AIRPORT
dbl (41): YEAR, RWY, N_TOT, N_ARR, N_DEP, H, MJ, MT, M, LJ, LT, LP, L, H_PER...

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 4 Columns: 42
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): AIRPORT
dbl (41): YEAR, RWY, N_TOT, N_ARR, N_DEP, H, MJ, MT, M, LJ, LT, LP, L, H_PER...

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 4 Columns: 42
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): AIRPORT
dbl (41): YEAR, RWY, N_TOT, N_ARR, N_DEP, H, MJ, MT, M, LJ, LT, LP, L, H_PER...

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 4 Columns: 42
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): AIRPORT
dbl (41): YEAR, RWY, N_TOT, N_ARR, N_DEP, H, MJ, MT, M, LJ, LT, LP, L, H_PER...

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 4 Columns: 42
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): AIRPORT
dbl (41): YEAR, RWY, N_TOT, N_ARR, N_DEP, H, MJ, MT, M, LJ, LT, LP, L, H_PER...

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 4 Columns: 42
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): AIRPORT
dbl (41): YEAR, RWY, N_TOT, N_ARR, N_DEP, H, MJ, MT, M, LJ, LT, LP, L, H_PER...

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 4 Columns: 42
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): AIRPORT
dbl (41): YEAR, RWY, N_TOT, N_ARR, N_DEP, H, MJ, MT, M, LJ, LT, LP, L, H_PER...

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 4 Columns: 42
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): AIRPORT
dbl (41): YEAR, RWY, N_TOT, N_ARR, N_DEP, H, MJ, MT, M, LJ, LT, LP, L, H_PER...

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 4 Columns: 42
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): AIRPORT
dbl (41): YEAR, RWY, N_TOT, N_ARR, N_DEP, H, MJ, MT, M, LJ, LT, LP, L, H_PER...

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 4 Columns: 42
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): AIRPORT
dbl (41): YEAR, RWY, N_TOT, N_ARR, N_DEP, H, MJ, MT, M, LJ, LT, LP, L, H_PER...

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 4 Columns: 42
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): AIRPORT
dbl (41): YEAR, RWY, N_TOT, N_ARR, N_DEP, H, MJ, MT, M, LJ, LT, LP, L, H_PER...

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 4 Columns: 42
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): AIRPORT
dbl (41): YEAR, RWY, N_TOT, N_ARR, N_DEP, H, MJ, MT, M, LJ, LT, LP, L, H_PER...

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 4 Columns: 42
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): AIRPORT
dbl (41): YEAR, RWY, N_TOT, N_ARR, N_DEP, H, MJ, MT, M, LJ, LT, LP, L, H_PER...

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 4 Columns: 42
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): AIRPORT
dbl (41): YEAR, RWY, N_TOT, N_ARR, N_DEP, H, MJ, MT, M, LJ, LT, LP, L, H_PER...

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 4 Columns: 42
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): AIRPORT
dbl (41): YEAR, RWY, N_TOT, N_ARR, N_DEP, H, MJ, MT, M, LJ, LT, LP, L, H_PER...

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 4 Columns: 42
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): AIRPORT
dbl (41): YEAR, RWY, N_TOT, N_ARR, N_DEP, H, MJ, MT, M, LJ, LT, LP, L, H_PER...

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
Rows: 4 Columns: 42
-- Column specification --------------------------------------------------------
Delimiter: ","
chr  (1): AIRPORT
dbl (41): YEAR, RWY, N_TOT, N_ARR, N_DEP, H, MJ, MT, M, LJ, LT, LP, L, H_PER...

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
<p>A proper balance between airport capacity and flight demand is paramount to an adjusted network flow. This section addresses the capacity and throughput dimensions as measured by a variety of KPIs at the airport level. Airspace users expect sufficient capacity provision addressing the levels of demand. With higher levels of capacity utilisation, airspace users will experience congestion and constraints (e.g.&nbsp;higher inefficiency, c.f. previous chapter). However, planning and staffing for peak situations may come at significant costs to airspace user as well. In that respect it is essential to understand the trade-off between capacity provision and capacity consumption (i.e.&nbsp;traffic demand) as it impacts the overall system performance. Capacity and throughput analyses are therefore showing to what extent air navigation services are capable to accommodate the demand.</p>
<section id="peak-declared-capacity" class="level2">
<h2 class="anchored" data-anchor-id="peak-declared-capacity">Peak Declared Capacity</h2>
<div class="cell">
<div class="sourceCode" id="cb23"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>bra_rwys <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>APT_ICAO, <span class="sc">~</span> RWY</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBBR"</span>, <span class="dv">2</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBGR"</span>, <span class="dv">2</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBSP"</span>, <span class="dv">2</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBKP"</span>, <span class="dv">1</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBRJ"</span>, <span class="dv">2</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBGL"</span>, <span class="dv">2</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBCF"</span>, <span class="dv">1</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBSV"</span>, <span class="dv">2</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBPA"</span>, <span class="dv">1</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBCT"</span>, <span class="dv">2</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>eur_rwys <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>APT_ICAO, <span class="sc">~</span> RWY</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"EGLL"</span>, <span class="dv">2</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"EGKK"</span>, <span class="dv">1</span></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"EHAM"</span>, <span class="dv">6</span></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"EDDF"</span>, <span class="dv">4</span></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"EDDM"</span>, <span class="dv">2</span> </span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"LFPG"</span>, <span class="dv">4</span></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"LSZH"</span>, <span class="dv">3</span></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"LEMD"</span>, <span class="dv">4</span></span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"LEBL"</span>, <span class="dv">3</span></span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"LIRF"</span>, <span class="dv">4</span></span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a><span class="do">############## ================ get cap going =================================</span></span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>pth <span class="ot">=</span> <span class="st">"./data"</span></span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a><span class="co"># load old summary data</span></span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------ Brazil</span></span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a>fns <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> pth, <span class="at">pattern =</span> <span class="st">"BRA_EUR_SB.*_DEV3.csv"</span>)</span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a>bra <span class="ot">&lt;-</span> <span class="fu">paste0</span>(pth,<span class="st">"/"</span>,fns) <span class="sc">%&gt;%</span></span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">map_dfr</span>(</span>
<span id="cb23-36"><a href="#cb23-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">.f =</span> <span class="sc">~</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(., <span class="at">col_types =</span> <span class="fu">cols</span>(<span class="at">.default =</span> <span class="fu">col_double</span>()</span>
<span id="cb23-37"><a href="#cb23-37" aria-hidden="true" tabindex="-1"></a>                                               ,<span class="at">AIRPORT =</span> <span class="fu">col_character</span>())</span>
<span id="cb23-38"><a href="#cb23-38" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb23-39"><a href="#cb23-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-40"><a href="#cb23-40" aria-hidden="true" tabindex="-1"></a><span class="co"># ---------- Europe</span></span>
<span id="cb23-41"><a href="#cb23-41" aria-hidden="true" tabindex="-1"></a>fns1<span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> pth, <span class="at">pattern =</span> <span class="st">"BRA_EUR_E.*_DEV3.csv"</span>)</span>
<span id="cb23-42"><a href="#cb23-42" aria-hidden="true" tabindex="-1"></a>fns2<span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> pth, <span class="at">pattern =</span> <span class="st">"BRA_EUR_L.*_DEV3.csv"</span>)</span>
<span id="cb23-43"><a href="#cb23-43" aria-hidden="true" tabindex="-1"></a>fnss<span class="ot">&lt;-</span> <span class="fu">c</span>(fns1, fns2)</span>
<span id="cb23-44"><a href="#cb23-44" aria-hidden="true" tabindex="-1"></a>eur <span class="ot">&lt;-</span> <span class="fu">paste0</span>(pth,<span class="st">"/"</span>,fnss) <span class="sc">%&gt;%</span></span>
<span id="cb23-45"><a href="#cb23-45" aria-hidden="true" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">map_dfr</span>(</span>
<span id="cb23-46"><a href="#cb23-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">.f =</span> <span class="sc">~</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(., <span class="at">col_types =</span> <span class="fu">cols</span>(<span class="at">.default =</span> <span class="fu">col_double</span>()</span>
<span id="cb23-47"><a href="#cb23-47" aria-hidden="true" tabindex="-1"></a>                                               ,<span class="at">AIRPORT =</span> <span class="fu">col_character</span>())</span>
<span id="cb23-48"><a href="#cb23-48" aria-hidden="true" tabindex="-1"></a>                           ))</span>
<span id="cb23-49"><a href="#cb23-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-50"><a href="#cb23-50" aria-hidden="true" tabindex="-1"></a><span class="co"># restrict data to report period</span></span>
<span id="cb23-51"><a href="#cb23-51" aria-hidden="true" tabindex="-1"></a>bra <span class="ot">&lt;-</span> bra <span class="sc">%&gt;%</span> <span class="fu">filter</span>(YEAR <span class="sc">&gt;=</span> min_year)</span>
<span id="cb23-52"><a href="#cb23-52" aria-hidden="true" tabindex="-1"></a>eur <span class="ot">&lt;-</span> eur <span class="sc">%&gt;%</span> <span class="fu">filter</span>(YEAR <span class="sc">&gt;=</span> min_year)</span>
<span id="cb23-53"><a href="#cb23-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-54"><a href="#cb23-54" aria-hidden="true" tabindex="-1"></a><span class="co"># restrict data to study airports</span></span>
<span id="cb23-55"><a href="#cb23-55" aria-hidden="true" tabindex="-1"></a>bra_apts <span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">"SBBR"</span>,<span class="st">"SBGR"</span>,<span class="st">"SBSP"</span>,<span class="st">"SBKP"</span>,<span class="st">"SBRJ"</span>,<span class="st">"SBGL"</span>,<span class="st">"SBCF"</span>,<span class="st">"SBSV"</span>,<span class="st">"SBPA"</span>,<span class="st">"SBCT"</span>)</span>
<span id="cb23-56"><a href="#cb23-56" aria-hidden="true" tabindex="-1"></a>eur_apts <span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">"EHAM"</span>,<span class="st">"LFPG"</span>,<span class="st">"EGLL"</span>,<span class="st">"EDDF"</span>,<span class="st">"EDDM"</span>,<span class="st">"LEMD"</span>,<span class="st">"LIRF"</span>,<span class="st">"LEBL"</span>,<span class="st">"EGKK"</span>,<span class="st">"LSZH"</span>)</span>
<span id="cb23-57"><a href="#cb23-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-58"><a href="#cb23-58" aria-hidden="true" tabindex="-1"></a>bra <span class="ot">&lt;-</span> bra <span class="sc">%&gt;%</span> <span class="fu">filter</span>(AIRPORT <span class="sc">%in%</span> bra_apts)</span>
<span id="cb23-59"><a href="#cb23-59" aria-hidden="true" tabindex="-1"></a>eur <span class="ot">&lt;-</span> eur <span class="sc">%&gt;%</span> <span class="fu">filter</span>(AIRPORT <span class="sc">%in%</span> eur_apts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode" id="cb24"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="do">## </span><span class="al">TODO</span><span class="do"> RENAME VARIABLES and CLEAN CHAPTER</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>bra_cap <span class="ot">&lt;-</span> <span class="fu">tribble</span>(   <span class="co"># CHECK AND VERIFY BRA DATA! # Hugo: Manually updated all airport values reffereing to DECEA 2021 Report</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>APT_ICAO, <span class="sc">~</span>YEAR, <span class="sc">~</span>MAX_CAP</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBCT"</span> , <span class="dv">2018</span> , <span class="dv">24</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBCT"</span> , <span class="dv">2019</span> , <span class="dv">28</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    , <span class="st">"SBCT"</span> , <span class="dv">2020</span> , <span class="dv">32</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    , <span class="st">"SBCT"</span> , <span class="dv">2021</span> , <span class="dv">32</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBPA"</span> , <span class="dv">2018</span> , <span class="dv">26</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBPA"</span> , <span class="dv">2019</span> , <span class="dv">30</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>   , <span class="st">"SBPA"</span> , <span class="dv">2020</span> , <span class="dv">36</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>   , <span class="st">"SBPA"</span> , <span class="dv">2021</span> , <span class="dv">36</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBSV"</span> , <span class="dv">2018</span> , <span class="dv">28</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBSV"</span> , <span class="dv">2019</span> , <span class="dv">32</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>   , <span class="st">"SBSV"</span> , <span class="dv">2020</span> , <span class="dv">36</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>   , <span class="st">"SBSV"</span> , <span class="dv">2021</span> , <span class="dv">36</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBRJ"</span> , <span class="dv">2018</span> , <span class="dv">29</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBRJ"</span> , <span class="dv">2019</span> , <span class="dv">29</span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>   , <span class="st">"SBRJ"</span> , <span class="dv">2020</span> , <span class="dv">29</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>   , <span class="st">"SBRJ"</span> , <span class="dv">2021</span> , <span class="dv">29</span></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBKP"</span> , <span class="dv">2018</span> , <span class="dv">31</span></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBKP"</span> , <span class="dv">2019</span> , <span class="dv">35</span></span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>   , <span class="st">"SBKP"</span> , <span class="dv">2020</span> , <span class="dv">40</span></span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>   , <span class="st">"SBKP"</span> , <span class="dv">2021</span> , <span class="dv">40</span></span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBCF"</span> , <span class="dv">2018</span> , <span class="dv">31</span></span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBCF"</span> , <span class="dv">2019</span> , <span class="dv">35</span></span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>   , <span class="st">"SBCF"</span> , <span class="dv">2020</span> , <span class="dv">37</span></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>   , <span class="st">"SBCF"</span> , <span class="dv">2021</span> , <span class="dv">37</span></span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBSP"</span> , <span class="dv">2018</span> , <span class="dv">28</span></span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBSP"</span> , <span class="dv">2019</span> , <span class="dv">41</span></span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>   , <span class="st">"SBSP"</span> , <span class="dv">2020</span> , <span class="dv">42</span>    <span class="co"># Hugo, screenshot ARR +3</span></span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a>   , <span class="st">"SBSP"</span> , <span class="dv">2021</span> , <span class="dv">44</span>    <span class="co"># Hugo, screenshot ARR +3</span></span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBGL"</span> , <span class="dv">2018</span> , <span class="dv">44</span></span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBGL"</span> , <span class="dv">2019</span> , <span class="dv">54</span></span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a>   , <span class="st">"SBGL"</span> , <span class="dv">2020</span> , <span class="dv">60</span></span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a>   , <span class="st">"SBGL"</span> , <span class="dv">2021</span> , <span class="dv">60</span></span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBGR"</span> , <span class="dv">2018</span> , <span class="dv">47</span></span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBGR"</span> , <span class="dv">2019</span> , <span class="dv">57</span></span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a>   , <span class="st">"SBGR"</span> , <span class="dv">2020</span> , <span class="dv">58</span>     <span class="co"># Hugo, screenshot ARR +2</span></span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a>   , <span class="st">"SBGR"</span> , <span class="dv">2021</span> , <span class="dv">60</span>     <span class="co"># Hugo, screenshot ARR +2</span></span>
<span id="cb24-40"><a href="#cb24-40" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBBR"</span> , <span class="dv">2018</span> , <span class="dv">52</span></span>
<span id="cb24-41"><a href="#cb24-41" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBBR"</span> , <span class="dv">2019</span> , <span class="dv">57</span></span>
<span id="cb24-42"><a href="#cb24-42" aria-hidden="true" tabindex="-1"></a>   , <span class="st">"SBBR"</span> , <span class="dv">2020</span> , <span class="dv">80</span></span>
<span id="cb24-43"><a href="#cb24-43" aria-hidden="true" tabindex="-1"></a>   , <span class="st">"SBBR"</span> , <span class="dv">2021</span> , <span class="dv">80</span></span>
<span id="cb24-44"><a href="#cb24-44" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBRF"</span> , <span class="dv">2018</span> , <span class="dv">29</span></span>
<span id="cb24-45"><a href="#cb24-45" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBRF"</span> , <span class="dv">2019</span> , <span class="dv">34</span></span>
<span id="cb24-46"><a href="#cb24-46" aria-hidden="true" tabindex="-1"></a>   , <span class="st">"SBRF"</span> , <span class="dv">2020</span> , <span class="dv">38</span></span>
<span id="cb24-47"><a href="#cb24-47" aria-hidden="true" tabindex="-1"></a>   , <span class="st">"SBRF"</span> , <span class="dv">2021</span> , <span class="dv">38</span></span>
<span id="cb24-48"><a href="#cb24-48" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBFL"</span> , <span class="dv">2018</span> , <span class="dv">15</span></span>
<span id="cb24-49"><a href="#cb24-49" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"SBFL"</span> , <span class="dv">2019</span> , <span class="dv">25</span></span>
<span id="cb24-50"><a href="#cb24-50" aria-hidden="true" tabindex="-1"></a>     , <span class="st">"SBFL"</span> , <span class="dv">2020</span> , <span class="dv">26</span></span>
<span id="cb24-51"><a href="#cb24-51" aria-hidden="true" tabindex="-1"></a>     , <span class="st">"SBFL"</span> , <span class="dv">2021</span> , <span class="dv">26</span></span>
<span id="cb24-52"><a href="#cb24-52" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-53"><a href="#cb24-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-54"><a href="#cb24-54" aria-hidden="true" tabindex="-1"></a>eur_cap <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb24-55"><a href="#cb24-55" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>APT_ICAO, <span class="sc">~</span>YEAR, <span class="sc">~</span>MAX_CAP</span>
<span id="cb24-56"><a href="#cb24-56" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"EDDF"</span> , <span class="dv">2018</span> , <span class="dv">100</span></span>
<span id="cb24-57"><a href="#cb24-57" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"EDDF"</span> , <span class="dv">2019</span> , <span class="dv">106</span></span>
<span id="cb24-58"><a href="#cb24-58" aria-hidden="true" tabindex="-1"></a>      , <span class="st">"EDDF"</span> , <span class="dv">2020</span> , <span class="dv">106</span></span>
<span id="cb24-59"><a href="#cb24-59" aria-hidden="true" tabindex="-1"></a>      , <span class="st">"EDDF"</span> , <span class="dv">2021</span> , <span class="dv">106</span></span>
<span id="cb24-60"><a href="#cb24-60" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"EDDM"</span> , <span class="dv">2018</span> , <span class="dv">90</span></span>
<span id="cb24-61"><a href="#cb24-61" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"EDDM"</span> , <span class="dv">2019</span> , <span class="dv">90</span></span>
<span id="cb24-62"><a href="#cb24-62" aria-hidden="true" tabindex="-1"></a>    , <span class="st">"EDDM"</span> , <span class="dv">2020</span> , <span class="dv">90</span></span>
<span id="cb24-63"><a href="#cb24-63" aria-hidden="true" tabindex="-1"></a>    , <span class="st">"EDDM"</span> , <span class="dv">2021</span> , <span class="dv">90</span></span>
<span id="cb24-64"><a href="#cb24-64" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"EGKK"</span> , <span class="dv">2018</span> , <span class="dv">55</span></span>
<span id="cb24-65"><a href="#cb24-65" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"EGKK"</span> , <span class="dv">2019</span> , <span class="dv">55</span></span>
<span id="cb24-66"><a href="#cb24-66" aria-hidden="true" tabindex="-1"></a>    , <span class="st">"EGKK"</span> , <span class="dv">2020</span> , <span class="dv">55</span></span>
<span id="cb24-67"><a href="#cb24-67" aria-hidden="true" tabindex="-1"></a>    , <span class="st">"EGKK"</span> , <span class="dv">2021</span> , <span class="dv">55</span></span>
<span id="cb24-68"><a href="#cb24-68" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"EGLL"</span> , <span class="dv">2018</span> , <span class="dv">88</span></span>
<span id="cb24-69"><a href="#cb24-69" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"EGLL"</span> , <span class="dv">2019</span> , <span class="dv">88</span></span>
<span id="cb24-70"><a href="#cb24-70" aria-hidden="true" tabindex="-1"></a>    , <span class="st">"EGLL"</span> , <span class="dv">2020</span> , <span class="dv">88</span></span>
<span id="cb24-71"><a href="#cb24-71" aria-hidden="true" tabindex="-1"></a>    , <span class="st">"EGLL"</span> , <span class="dv">2021</span> , <span class="dv">88</span></span>
<span id="cb24-72"><a href="#cb24-72" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"EHAM"</span> , <span class="dv">2018</span> , <span class="dv">112</span></span>
<span id="cb24-73"><a href="#cb24-73" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"EHAM"</span> , <span class="dv">2019</span> , <span class="dv">112</span></span>
<span id="cb24-74"><a href="#cb24-74" aria-hidden="true" tabindex="-1"></a>    , <span class="st">"EHAM"</span> , <span class="dv">2020</span> , <span class="dv">112</span></span>
<span id="cb24-75"><a href="#cb24-75" aria-hidden="true" tabindex="-1"></a>    , <span class="st">"EHAM"</span> , <span class="dv">2021</span> , <span class="dv">112</span></span>
<span id="cb24-76"><a href="#cb24-76" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"LEBL"</span> , <span class="dv">2018</span> , <span class="dv">78</span></span>
<span id="cb24-77"><a href="#cb24-77" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"LEBL"</span> , <span class="dv">2019</span> , <span class="dv">78</span></span>
<span id="cb24-78"><a href="#cb24-78" aria-hidden="true" tabindex="-1"></a>    , <span class="st">"LEBL"</span> , <span class="dv">2020</span> , <span class="dv">78</span></span>
<span id="cb24-79"><a href="#cb24-79" aria-hidden="true" tabindex="-1"></a>    , <span class="st">"LEBL"</span> , <span class="dv">2021</span> , <span class="dv">78</span></span>
<span id="cb24-80"><a href="#cb24-80" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"LEMD"</span> , <span class="dv">2018</span> , <span class="dv">100</span></span>
<span id="cb24-81"><a href="#cb24-81" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"LEMD"</span> , <span class="dv">2019</span> , <span class="dv">100</span></span>
<span id="cb24-82"><a href="#cb24-82" aria-hidden="true" tabindex="-1"></a>    , <span class="st">"LEMD"</span> , <span class="dv">2020</span> , <span class="dv">100</span></span>
<span id="cb24-83"><a href="#cb24-83" aria-hidden="true" tabindex="-1"></a>    , <span class="st">"LEMD"</span> , <span class="dv">2021</span> , <span class="dv">100</span></span>
<span id="cb24-84"><a href="#cb24-84" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"LFPG"</span> , <span class="dv">2018</span> , <span class="dv">120</span></span>
<span id="cb24-85"><a href="#cb24-85" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"LFPG"</span> , <span class="dv">2019</span> , <span class="dv">120</span></span>
<span id="cb24-86"><a href="#cb24-86" aria-hidden="true" tabindex="-1"></a>    , <span class="st">"LFPG"</span> , <span class="dv">2020</span> , <span class="dv">120</span></span>
<span id="cb24-87"><a href="#cb24-87" aria-hidden="true" tabindex="-1"></a>    , <span class="st">"LFPG"</span> , <span class="dv">2021</span> , <span class="dv">120</span></span>
<span id="cb24-88"><a href="#cb24-88" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"LIRF"</span> , <span class="dv">2018</span> , <span class="dv">90</span></span>
<span id="cb24-89"><a href="#cb24-89" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"LIRF"</span> , <span class="dv">2019</span> , <span class="dv">90</span></span>
<span id="cb24-90"><a href="#cb24-90" aria-hidden="true" tabindex="-1"></a>    , <span class="st">"LIRF"</span> , <span class="dv">2020</span> , <span class="dv">90</span></span>
<span id="cb24-91"><a href="#cb24-91" aria-hidden="true" tabindex="-1"></a>    , <span class="st">"LIRF"</span> , <span class="dv">2021</span> , <span class="dv">90</span></span>
<span id="cb24-92"><a href="#cb24-92" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"LSZH"</span> , <span class="dv">2018</span> , <span class="dv">66</span></span>
<span id="cb24-93"><a href="#cb24-93" aria-hidden="true" tabindex="-1"></a>  , <span class="st">"LSZH"</span> , <span class="dv">2019</span> , <span class="dv">66</span></span>
<span id="cb24-94"><a href="#cb24-94" aria-hidden="true" tabindex="-1"></a>    , <span class="st">"LSZH"</span> , <span class="dv">2020</span> , <span class="dv">66</span></span>
<span id="cb24-95"><a href="#cb24-95" aria-hidden="true" tabindex="-1"></a>    , <span class="st">"LSZH"</span> , <span class="dv">2021</span> , <span class="dv">66</span></span>
<span id="cb24-96"><a href="#cb24-96" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Peak Declared Capacity refers to the highest movement rate (arrivals and landings) at an airport using the most favourable runway configuration under optimal conditions. The capacity value might be subject to local or national decision-making processes. The indicator represents the highest number of landings an airport can accept in a one-hour period.</p>
<p>In Brazil, the peak capacity is determined by DECEA considering local operational constraints. Within the European region, the airport capacity is determined locally or nationally as part of the capacity declaration process. This considers local operational constraints (e.g.&nbsp;political caps, noise quota and abatement procedures), infrastructure related limitations (e.g.&nbsp;apron/stand availability, passenger facilities). The declaration process considers typically IMC separation minima for runway movements. <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<p>All European airports in this study are Category 3 - fully slot controlled. The slot and capacity declaration process is undertaken on the local or national level. Throughout the last years additional political caps in terms of maximum number of annual movements (e.g.&nbsp;Amsterdam (EHAM) movement cap of 500.000 commercial operations) or permissible night and day time restrictions (e.g.&nbsp;London Heathrow night operation cap) have been introduced widely. Accordingly, capacity values in Europe vary despite the local runway system capabilities. <a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<p>Throughout the last years, no substantial change in the declared capacity was observed at European airports. In Brazil, on the other hand, 2019 showed a revised capacity declaration for most of the airports throughout the country, c.f. Figure <a href="#fig-capsovertime">Figure&nbsp;1</a>).</p>
<p>Since the end 2018, CGNA worked on the enhancement of the methodology for the determination of the runway system capacity. The previous methodology used conservative limitations for the declaration of airport capacity. Capacity was limited to the maximum of 80% of its real value due to additional parameters taken into account (e.g.&nbsp;local specifics). The best practice approach included a 50%-50% division between arrivals and departures. The process and refined analysis methodology has evolved in such ways that these mentioned concepts are no longer in use. The capacity is declared on the basis of its actual value considering all variables that can restrain and impact the achievable capacity. It is applied in accordance with the operational conditions at the airport or the prevailing meteorological condition.</p>
<p>These changes significantly increased runway systems capacity for most of Brazilian airports. Airports such as SBGR, SBGL, SBCF, SBBR and SBSV benefited from the changes made, including changes in their runway system configurations. CGNA continues developing enhancements to the runway capacity analysis process. This resulted in the publication of a refined process by the end of 2020. The impact of the revision will likely influence the Brazilian airport capacity declaration.</p>
<div class="cell">
<div class="sourceCode" id="cb25"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> bra_cap <span class="sc">%&gt;%</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">APT_ICAO =</span> <span class="st">"SBGR"</span>, <span class="at">YEAR =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2017</span>, <span class="at">MAX_CAP =</span> <span class="dv">47</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">APT_ICAO =</span> <span class="st">"SBBR"</span>, <span class="at">YEAR =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2017</span>, <span class="at">MAX_CAP =</span> <span class="dv">52</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">APT_ICAO =</span> <span class="st">"SBGL"</span>, <span class="at">YEAR =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2017</span>, <span class="at">MAX_CAP =</span> <span class="dv">44</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">APT_ICAO =</span> <span class="st">"SBSP"</span>, <span class="at">YEAR =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2017</span>, <span class="at">MAX_CAP =</span> <span class="dv">28</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">APT_ICAO =</span> <span class="st">"SBCF"</span>, <span class="at">YEAR =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2017</span>, <span class="at">MAX_CAP =</span> <span class="dv">31</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">APT_ICAO =</span> <span class="st">"SBKP"</span>, <span class="at">YEAR =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2017</span>, <span class="at">MAX_CAP =</span> <span class="dv">31</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">APT_ICAO =</span> <span class="st">"SBRJ"</span>, <span class="at">YEAR =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2017</span>, <span class="at">MAX_CAP =</span> <span class="dv">29</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">APT_ICAO =</span> <span class="st">"SBCT"</span>, <span class="at">YEAR =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2017</span>, <span class="at">MAX_CAP =</span> <span class="dv">24</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">APT_ICAO =</span> <span class="st">"SBRF"</span>, <span class="at">YEAR =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2017</span>, <span class="at">MAX_CAP =</span> <span class="dv">29</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">APT_ICAO =</span> <span class="st">"SBSV"</span>, <span class="at">YEAR =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2017</span>, <span class="at">MAX_CAP =</span> <span class="dv">28</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">APT_ICAO =</span> <span class="st">"SBPA"</span>, <span class="at">YEAR =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2017</span>, <span class="at">MAX_CAP =</span> <span class="dv">26</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">APT_ICAO =</span> <span class="st">"SBFL"</span>, <span class="at">YEAR =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2017</span>, <span class="at">MAX_CAP =</span> <span class="dv">15</span>)</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>eur_cap2 <span class="ot">&lt;-</span> eur_cap <span class="sc">%&gt;%</span> </span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">APT_ICAO =</span> <span class="st">"EDDF"</span>, <span class="at">YEAR =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2017</span>, <span class="at">MAX_CAP =</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">APT_ICAO =</span> <span class="st">"EDDM"</span>, <span class="at">YEAR =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2017</span>, <span class="at">MAX_CAP =</span> <span class="dv">90</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">APT_ICAO =</span> <span class="st">"EGKK"</span>, <span class="at">YEAR =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2017</span>, <span class="at">MAX_CAP =</span> <span class="dv">55</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">APT_ICAO =</span> <span class="st">"EGLL"</span>, <span class="at">YEAR =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2017</span>, <span class="at">MAX_CAP =</span> <span class="dv">88</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">APT_ICAO =</span> <span class="st">"EHAM"</span>, <span class="at">YEAR =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2017</span>, <span class="at">MAX_CAP =</span> <span class="dv">112</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">APT_ICAO =</span> <span class="st">"LEBL"</span>, <span class="at">YEAR =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2017</span>, <span class="at">MAX_CAP =</span> <span class="dv">78</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">APT_ICAO =</span> <span class="st">"LEMD"</span>, <span class="at">YEAR =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2017</span>, <span class="at">MAX_CAP =</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">APT_ICAO =</span> <span class="st">"LFPG"</span>, <span class="at">YEAR =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2017</span>, <span class="at">MAX_CAP =</span> <span class="dv">120</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">APT_ICAO =</span> <span class="st">"LIRF"</span>, <span class="at">YEAR =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2017</span>, <span class="at">MAX_CAP =</span> <span class="dv">90</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">APT_ICAO =</span> <span class="st">"LSZH"</span>, <span class="at">YEAR =</span> <span class="dv">2015</span><span class="sc">:</span><span class="dv">2017</span>, <span class="at">MAX_CAP =</span> <span class="dv">66</span>)</span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a>plot_cap_panel <span class="ot">&lt;-</span> <span class="cf">function</span>(.df){</span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a>  g <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> .df, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> YEAR, <span class="at">y =</span> MAX_CAP)) <span class="sc">+</span> </span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(.<span class="sc">~</span>APT_ICAO, <span class="at">ncol =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb25-31"><a href="#cb25-31" aria-hidden="true" tabindex="-1"></a>  my_own_theme_minimal <span class="sc">+</span></span>
<span id="cb25-32"><a href="#cb25-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x   =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>)</span>
<span id="cb25-33"><a href="#cb25-33" aria-hidden="true" tabindex="-1"></a>       ,<span class="at">panel.spacing =</span> <span class="fu">unit</span>(<span class="dv">1</span>, <span class="st">"lines"</span>)   <span class="co"># spacing between facets</span></span>
<span id="cb25-34"><a href="#cb25-34" aria-hidden="true" tabindex="-1"></a>       ) <span class="sc">+</span></span>
<span id="cb25-35"><a href="#cb25-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="st">"declared capacity [movements per hour]"</span>)</span>
<span id="cb25-36"><a href="#cb25-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(g)</span>
<span id="cb25-37"><a href="#cb25-37" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode" id="cb26"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># filter cap plot to 2016-2019 and play with xaxis label size</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co"># cannot add theme(axis.text.x=..) to patchwork as only the "last" plot is "active"</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="co"># add to each plot</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>lab_size <span class="ot">=</span> <span class="dv">7</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">plot_cap_panel</span>(</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>        tmp <span class="sc">%&gt;%</span> </span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>          <span class="fu">filter</span>( YEAR <span class="sc">&gt;=</span> key_year <span class="sc">-</span> <span class="dv">3</span> <span class="sc">&amp;</span> YEAR <span class="sc">&lt;=</span> key_year</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>                 , APT_ICAO <span class="sc">%in%</span> bra_apts)</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_text</span>(<span class="at">size=</span>lab_size, <span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">plot_cap_panel</span>(eur_cap2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(YEAR <span class="sc">&gt;=</span> key_year <span class="sc">-</span> <span class="dv">3</span> <span class="sc">&amp;</span> YEAR <span class="sc">&lt;=</span> key_year)) <span class="sc">+</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_text</span>(<span class="at">size=</span>lab_size, <span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>))</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">|</span> p2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-capsovertime" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="05-capacity_files/figure-html/fig-capsovertime-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 1: Evolution of Declared Capacities at Brazilian Airports.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb27"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>cap <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>   bra_cap <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">REGION =</span> <span class="st">"BRA"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(APT_ICAO <span class="sc">%in%</span> bra_apts)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  ,eur_cap <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">REGION =</span> <span class="st">"EUR"</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(YEAR <span class="sc">==</span> key_year)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="co"># ## add runways</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="co"># extract_rwys &lt;- . %&gt;% select(AIRPORT, YEAR, RWY) %&gt;% filter(YEAR == key_year) %&gt;% rename(APT_ICAO = AIRPORT)</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="co"># bra_rwys &lt;- bra %&gt;% extract_rwys()</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="co"># eur_rwys &lt;- eur %&gt;% extract_rwys()</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>cap_rwys <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(bra_rwys, eur_rwys) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">YEAR =</span> key_year)</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>     <span class="fu">geom_col</span>(</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> cap <span class="sc">%&gt;%</span> <span class="fu">inner_join</span>(cap_rwys, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"APT_ICAO"</span>, <span class="st">"YEAR"</span>))</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>       ,<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> MAX_CAP, <span class="at">y =</span> <span class="fu">reorder</span>(APT_ICAO, MAX_CAP)</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>                      , <span class="at">fill =</span> REGION)</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>       ) <span class="sc">+</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>     <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> bra_eur_colours) <span class="sc">+</span> </span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>     <span class="fu">facet_grid</span>(RWY <span class="sc">~</span>., <span class="at">as.table =</span> <span class="cn">FALSE</span>, <span class="at">switch =</span> <span class="st">"y"</span>, <span class="at">scales =</span> <span class="st">"free"</span>, <span class="at">space =</span> <span class="st">"free"</span>) <span class="sc">+</span></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>     my_own_theme_bw <span class="sc">+</span></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>     <span class="fu">labs</span>(<span class="at">x =</span> <span class="fu">paste0</span>(<span class="st">"declared maximum capacity per hour ("</span>, key_year,<span class="st">")"</span>), <span class="at">y =</span> <span class="cn">NULL</span>, <span class="at">fill =</span> <span class="st">"Region"</span>) <span class="sc">+</span></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>     <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.9</span>, <span class="fl">0.1</span>), <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-peakcapacity" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="05-capacity_files/figure-html/fig-peakcapacity-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 2: Peak declared capacity</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><a href="#fig-peakcapacity">Figure&nbsp;2</a> the peak declared capacity per hour for each of the study airports in Europe and Brazil in 2021. In general, the declared capacity for all airports in Europe exceeds the respective declared capacity levels in Brazil.</p>
<p>The peak capacity for Brasília (SBBR) approached to Munich (EDDM) and Heathrow (EGLL) due to the implantation of independent operarions and the methodology calculation review. Those tree airports, with similar layout, show bigger capacity than Barcelona e Zurich which have tree runway. Galeão (SBGL) and Guarulhos (SBGR) are now above the peak capacity declared for the single-runway airport Gatwick (EGKK). But still, the declared capacity values at those airports ranged around 50% of the major hubs in Europe, i.e.&nbsp;Paris Charles de Gaulle (LFPG), Amsterdam (EHAM), and Frankfurt (EDDF).</p>
<p>As mentioned before, the capacity process takes into account a variety of local considerations. A potential avenue for further research could be a closer investigation of the variances of the declared capacity in line with the local runway system characteristics.</p>
</section>
<section id="peak-arrival-throughput" class="level2">
<h2 class="anchored" data-anchor-id="peak-arrival-throughput">Peak Arrival Throughput</h2>
<p>The peak arrival throughput measures the 95th percentile of the hourly number of landings observed at an airport. The measure gives an indication of the “busy-hour” landing rates. It is an indication to what extent arrival traffic is serviced at an airport. For congested airports, the throughput provides a measure of the effectively realized capacity. Throughput is a measure of demand and comprises already air traffic flow or sequencing measures applied by ATM or ATC in the en-route and terminal phase. For non-congested airports, throughput serves as a measure of showing the level of (peak) demand at this airport. Unlike the day Peak Day indicator, the busiest hour of the airports under study did not suffer a significant reduction in their values even with the crisis. The demand peak during the last two years and the natural tendency of traffic concentration in more attractive hours were enough to keep the values at level with the historical data.</p>
<div class="cell">
<div class="sourceCode" id="cb28"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>t4p_arr_thru <span class="ot">&lt;-</span> <span class="cf">function</span>(.df, .reg){</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> .df <span class="sc">%&gt;%</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(AIRPORT, YEAR, PEAK_ARR_THRU)<span class="sc">%&gt;%</span> </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">REGION =</span> .reg) <span class="sc">%&gt;%</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">LABEL =</span> <span class="fu">if_else</span>(YEAR <span class="sc">==</span> <span class="fu">max</span>(YEAR), <span class="fu">as.character</span>(AIRPORT), <span class="cn">NA_character_</span>))</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>tmp_b <span class="ot">&lt;-</span> <span class="fu">t4p_arr_thru</span>(bra, <span class="st">"BRA"</span>)</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>tmp_e <span class="ot">&lt;-</span> <span class="fu">t4p_arr_thru</span>(eur, <span class="st">"EUR"</span>)</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>tmp   <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(tmp_b, tmp_e)</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a><span class="co"># thru_arr for comparison section</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>thru_arr <span class="ot">&lt;-</span> tmp</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a><span class="do">############## FIX FOR MISSIN DATA</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>tmp_b <span class="ot">&lt;-</span> tmp_b <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">YEAR =</span> YEAR <span class="sc">+</span> <span class="dv">2</span>)</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>tmp_e <span class="ot">&lt;-</span> tmp_e <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">YEAR =</span> YEAR <span class="sc">+</span> <span class="dv">2</span>)</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>up_year <span class="ot">&lt;-</span> key_year</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>lb_year <span class="ot">&lt;-</span> key_year <span class="sc">-</span> <span class="dv">3</span></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>g21 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data=</span> tmp_b, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> YEAR, <span class="at">y =</span> PEAK_ARR_THRU, <span class="at">group =</span> AIRPORT, <span class="at">colour =</span> AIRPORT)) <span class="sc">+</span></span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">label =</span> LABEL) <span class="co">#</span></span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a>                  , <span class="at">nudge_x =</span> <span class="dv">2</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># , xlim = c(max(lb_years - 3), NA)</span></span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a>                  , <span class="at">force =</span> <span class="dv">20</span></span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a>                  , <span class="at">segment.colour =</span> <span class="st">"grey50"</span>, <span class="at">segment.linetype =</span> <span class="dv">2</span></span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a>                  , <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a>  <span class="co">#facet_wrap(.~REGION) + </span></span>
<span id="cb28-30"><a href="#cb28-30" aria-hidden="true" tabindex="-1"></a>  my_own_theme_minimal <span class="sc">+</span></span>
<span id="cb28-31"><a href="#cb28-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>(<span class="at">l =</span> <span class="dv">20</span>, <span class="at">c =</span> <span class="dv">100</span>, <span class="at">guide =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb28-32"><a href="#cb28-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="st">"peak arrival throughput"</span>) <span class="sc">+</span></span>
<span id="cb28-33"><a href="#cb28-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(lb_year, up_year <span class="sc">+</span> <span class="fl">0.5</span>)</span>
<span id="cb28-34"><a href="#cb28-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-35"><a href="#cb28-35" aria-hidden="true" tabindex="-1"></a>g22 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data=</span> tmp_e, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> YEAR, <span class="at">y =</span> PEAK_ARR_THRU, <span class="at">group =</span> AIRPORT, <span class="at">colour =</span> AIRPORT)) <span class="sc">+</span></span>
<span id="cb28-36"><a href="#cb28-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb28-37"><a href="#cb28-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">label =</span> LABEL) <span class="co">#</span></span>
<span id="cb28-38"><a href="#cb28-38" aria-hidden="true" tabindex="-1"></a>                  , <span class="at">nudge_x =</span> <span class="dv">2</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb28-39"><a href="#cb28-39" aria-hidden="true" tabindex="-1"></a>                   , <span class="at">xlim =</span> <span class="fu">c</span>(<span class="fu">max</span>(lb_year <span class="sc">-</span> <span class="dv">3</span>), <span class="cn">NA</span>)</span>
<span id="cb28-40"><a href="#cb28-40" aria-hidden="true" tabindex="-1"></a>                  , <span class="at">force =</span> <span class="dv">10</span>, <span class="at">segment.colour =</span> <span class="st">"grey50"</span>, <span class="at">segment.linetype =</span> <span class="dv">2</span></span>
<span id="cb28-41"><a href="#cb28-41" aria-hidden="true" tabindex="-1"></a>                  , <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb28-42"><a href="#cb28-42" aria-hidden="true" tabindex="-1"></a>  <span class="co">#facet_wrap(.~REGION) + </span></span>
<span id="cb28-43"><a href="#cb28-43" aria-hidden="true" tabindex="-1"></a>  my_own_theme_minimal <span class="sc">+</span></span>
<span id="cb28-44"><a href="#cb28-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>(<span class="at">l =</span> <span class="dv">20</span>, <span class="at">c =</span> <span class="dv">100</span>, <span class="at">guide =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb28-45"><a href="#cb28-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="st">"peak arrival throughput"</span>) <span class="sc">+</span></span>
<span id="cb28-46"><a href="#cb28-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(lb_year, up_year <span class="sc">+</span> <span class="fl">0.5</span>)</span>
<span id="cb28-47"><a href="#cb28-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-48"><a href="#cb28-48" aria-hidden="true" tabindex="-1"></a>(g21 <span class="sc">+</span> <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">70</span>))) <span class="sc">|</span> (g22 <span class="sc">+</span> <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">70</span>), <span class="at">labels =</span> <span class="cn">NULL</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-arr-thru" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="05-capacity_files/figure-html/fig-arr-thru-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 3: Variation of arrival throughput at study airports</figcaption><p></p>
</figure>
</div>
</div>
</div>
<!-- change colour/palette - do not waste too much time on it -->
<p><a href="#fig-arr-thru">Figure&nbsp;3</a> shows a constant behaviour of the peak arrival throughput across the whole time horizon. A noteworthy exemption is Brasilia (SBBR). At SBBR, a reduction of the peak arrival throughput was observed in 2019 in comparison to the previous year. Brasilia Airport started independent operations on its two runways back in 2016. As a result - and after a period of standardisation of procedures for aircrew and controllers - its traffic was possibly better dispersed throughout the day.</p>
<p>For the majority of the European airports, <a href="#fig-arr-thru">Figure&nbsp;3</a> depicts little variation over the years. These study airports represent the busiest 10 airports and accordingly the peak arrival throughput per hour presents an upper limit based on the airspace user demand and traffic patterns. The increase observed in peak arrival throughput at Paris (LFPG), Madrid (LEMD), Rome (LIRF), and Munich (EDDM) was in line with additional demand during peak hours. The continual increase in peak arrival throughput signals a potential concentration of feeder flights for international / long-range traffic.</p>
<p>The relative constant pattern of the peak arrival throughput observed for many airports suggests that traffic patterns during the busiest hours remained fairly constant. Potential changes to the airspace user demand widely occurred outside the peak hours. This suggests that arrival management of air traffic services in Brazil and Europe is able to sustain the observed demand.</p>
</section>
<section id="peak-departure-throughput" class="level2">
<h2 class="anchored" data-anchor-id="peak-departure-throughput">Peak Departure Throughput</h2>
<p>In analogy to the arrival throughput, the departure throughput is determined as the 95th percentile of the hourly number of departures. The measure serves as an indication of the “busy-hour” departure rates. As seen in the previous indicator, the pandemic crisis did not influence the values significantly.</p>
<div class="cell">
<div class="sourceCode" id="cb29"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>tmp_b <span class="ot">&lt;-</span> bra <span class="sc">%&gt;%</span> </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(AIRPORT, YEAR, PEAK_DEP_THRU) <span class="sc">%&gt;%</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">REGION =</span> <span class="st">"BRA"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">LABEL =</span> <span class="fu">if_else</span>(YEAR <span class="sc">==</span> <span class="fu">max</span>(YEAR), <span class="fu">as.character</span>(AIRPORT), <span class="cn">NA_character_</span>))</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>tmp_e <span class="ot">&lt;-</span> eur <span class="sc">%&gt;%</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(AIRPORT, YEAR, PEAK_DEP_THRU) <span class="sc">%&gt;%</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">REGION =</span> <span class="st">"EUR"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">LABEL =</span> <span class="fu">if_else</span>(YEAR <span class="sc">==</span> <span class="fu">max</span>(YEAR), <span class="fu">as.character</span>(AIRPORT), <span class="cn">NA_character_</span>))</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> tmp_b <span class="sc">%&gt;%</span> <span class="fu">bind_rows</span>(tmp_e)</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="do">############## FIX FOR MISSIN DATA</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>tmp_b <span class="ot">&lt;-</span> tmp_b <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">YEAR =</span> YEAR <span class="sc">+</span> <span class="dv">2</span>)</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>tmp_e <span class="ot">&lt;-</span> tmp_e <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">YEAR =</span> YEAR <span class="sc">+</span> <span class="dv">2</span>)</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>up_year <span class="ot">&lt;-</span> key_year</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>lb_year <span class="ot">&lt;-</span> key_year <span class="sc">-</span> <span class="dv">3</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>g31 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data=</span> tmp_b</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>       , <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> YEAR, <span class="at">y =</span> PEAK_DEP_THRU</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>                       , <span class="at">group =</span> AIRPORT, <span class="at">colour =</span> AIRPORT)</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>       ) <span class="sc">+</span></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">label =</span> LABEL) <span class="co">#</span></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>                  , <span class="at">nudge_x =</span> <span class="dv">2</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>                  <span class="co"># , xlim = c(max(lb_years - 3), NA)</span></span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>                  , <span class="at">force =</span> <span class="dv">20</span></span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>                  , <span class="at">segment.colour =</span> <span class="st">"grey50"</span>, <span class="at">segment.linetype =</span> <span class="dv">2</span></span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>                  , <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>  <span class="co">#facet_wrap(.~REGION) + </span></span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>  my_own_theme_minimal <span class="sc">+</span></span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>(<span class="at">l =</span> <span class="dv">20</span>, <span class="at">c =</span> <span class="dv">100</span>, <span class="at">guide =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="st">"peak departure throughput"</span>)</span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a>g32 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data=</span> tmp_e</span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a>       , <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> YEAR, <span class="at">y =</span> PEAK_DEP_THRU</span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a>                       , <span class="at">group =</span> AIRPORT, <span class="at">colour =</span> AIRPORT)</span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a>       ) <span class="sc">+</span></span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">label =</span> LABEL), <span class="at">nudge_x =</span> <span class="dv">1</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">segment.colour =</span> <span class="st">"grey50"</span>) <span class="sc">+</span></span>
<span id="cb29-40"><a href="#cb29-40" aria-hidden="true" tabindex="-1"></a>  <span class="co">#facet_wrap(.~REGION) + </span></span>
<span id="cb29-41"><a href="#cb29-41" aria-hidden="true" tabindex="-1"></a>  my_own_theme_minimal <span class="sc">+</span></span>
<span id="cb29-42"><a href="#cb29-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_discrete</span>(<span class="at">l =</span> <span class="dv">20</span>, <span class="at">c =</span> <span class="dv">100</span>, <span class="at">guide =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb29-43"><a href="#cb29-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>)</span>
<span id="cb29-44"><a href="#cb29-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-45"><a href="#cb29-45" aria-hidden="true" tabindex="-1"></a>(g31 <span class="sc">+</span> <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">70</span>))) <span class="sc">|</span> (g32 <span class="sc">+</span> <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">70</span>), <span class="at">labels =</span> <span class="cn">NULL</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-stderr">
<pre><code>Warning: It is deprecated to specify `guide = FALSE` to remove a guide. Please use `guide = "none"` instead.
It is deprecated to specify `guide = FALSE` to remove a guide. Please use `guide = "none"` instead.</code></pre>
</div>
<div class="cell-output-display">
<div id="fig-dep-thru" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="05-capacity_files/figure-html/fig-dep-thru-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 4: Variation of departure throughput at study airports</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>The peak departure throughput at the study airports shows a similar behaviour than the behaviour observed for the arrival throughput (c.f. above). This suggests widely homogeneous demand patterns, i.e.&nbsp;schedules, across the different seasons.</p>
<p>Peak departure throughput at SBBR showed a similar decrease as for the arrival peak throughput as reported above.</p>
<p>In Europe, Rome (LIRF) saw a drop in departure throughput in 2017 as well, which then remained fairly constant until 2019. The observed decrease is linked to a de-peaking of the outbounds. Frankfurt (EDDF) and Madrid (LEMD) experienced a step as of 2019 that is in line with additional routes served. The annual traffic increase observed at Paris (LFPG) resulted in an increase in the peak departure throughput accommodating these additional flights also during peak hours. The observed systematic constant performance levels at Heathrow (EGLL), Gatwick (EGKK), Barcelona (LEBL), and Zurich (LSZH) evidences that these airports and air traffic services operated at their capacity limits during peak hours throughout the time horizon of this report.</p>
</section>
<section id="declared-capacity-and-peak-throughput" class="level2">
<h2 class="anchored" data-anchor-id="declared-capacity-and-peak-throughput">Declared Capacity and Peak Throughput</h2>
<p>Effective utilisation of the deployed capacity during peak times drives operational efficiency. In this initial comparison report, the difference between the peak arrival rate and the declared capacity is analysed in order to demonstrate which airports have more and less “slack” between the peak movement levels and their capacity. <a href="#fig-capvsthru">Figure&nbsp;5</a> orders all study airports based on their declared arrival capacities and compares these values with the observed peak arrival throughput.</p>
<div class="cell">
<div class="sourceCode" id="cb31"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>kawusi <span class="ot">&lt;-</span> thru_arr <span class="sc">%&gt;%</span> </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">YEAR =</span> YEAR <span class="sc">+</span> <span class="dv">2</span>)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>thru_arr_peak <span class="ot">&lt;-</span> kawusi <span class="sc">%&gt;%</span>  <span class="co"># taken from above arrival throughput</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(AIRPORT, YEAR, PEAK_ARR_THRU, REGION) <span class="sc">%&gt;%</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(YEAR <span class="sc">==</span> key_year)</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="do">##################################</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="co"># proxy - max arr capacity = MAX CAP/2</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="do">##################################</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>cap_arr  <span class="ot">&lt;-</span> cap <span class="sc">%&gt;%</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">AIRPORT =</span> APT_ICAO, YEAR, MAX_CAP, REGION) <span class="sc">%&gt;%</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ARR_CAP =</span> <span class="fu">ceiling</span>(MAX_CAP<span class="sc">/</span><span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode" id="cb32"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> cap_arr <span class="sc">%&gt;%</span> <span class="fu">inner_join</span>(thru_arr_peak, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"AIRPORT"</span>, <span class="st">"YEAR"</span>, <span class="st">"REGION"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">DIFF =</span> <span class="fu">case_when</span>(PEAK_ARR_THRU <span class="sc">&lt;</span> ARR_CAP <span class="sc">~</span> <span class="st">"Capacity &gt; Throughput"</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>                          ,<span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Throughput &gt;= Capacity"</span>))</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="do">#### https://www.w3schools.com/colors</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="co"># complementary colours</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>comp_colours <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#98CA32"</span>, <span class="st">"#B8143A"</span>)   <span class="co"># red, green</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>comp_colours <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#AE0D7A"</span>, <span class="st">"#A2B814"</span>)   <span class="co"># purple, green</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="co"># compound colous</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>comp_colours <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#B2D732"</span>,<span class="st">"#347B98"</span>)    <span class="co"># ligher and dark green</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>comp_colours <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#347B98"</span>,<span class="st">"#B2D732"</span>)    <span class="co"># ligher and dark green</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>tmp <span class="sc">%&gt;%</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>( <span class="at">x =</span> <span class="fu">reorder</span>(AIRPORT, ARR_CAP), <span class="at">xend =</span> <span class="fu">reorder</span>(AIRPORT, ARR_CAP)</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>                  ,<span class="at">y =</span> ARR_CAP, <span class="at">yend =</span> PEAK_ARR_THRU</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>                  ,<span class="at">colour =</span> DIFF), <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span> </span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> comp_colours) <span class="sc">+</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(AIRPORT, ARR_CAP), <span class="at">y =</span> ARR_CAP), <span class="at">size =</span> <span class="dv">4</span>, <span class="at">colour =</span> comp_colours[<span class="dv">1</span>]) <span class="sc">+</span> </span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(AIRPORT, ARR_CAP), <span class="at">y =</span> PEAK_ARR_THRU), <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>             , <span class="at">shape =</span> <span class="dv">24</span>, <span class="at">colour =</span> comp_colours[<span class="dv">2</span>], <span class="at">fill=</span>comp_colours[<span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">#facet_grid(.~REGION, scales = "free_x") +</span></span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>  my_own_theme_minimal <span class="sc">+</span></span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.2</span>, <span class="fl">0.9</span>)) <span class="sc">+</span></span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y=</span><span class="st">"movements per hour"</span>, <span class="at">colour =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-capvsthru" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="05-capacity_files/figure-html/fig-capvsthru-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 5: Comparison of declared capacity and throughput for arrival phase.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>For the majority of the airports, the approximated arrival capacity is higher than the observed peak throughput. In Europe, Amsterdam (EHAM), Frankfurt (EDDF), and Munich (EDDM) showed a higher peak throughput than the respective declared capacity. Peak arrival operations at Zurich (LSZH) were slightly higher than the declared capacity. In Brazil, the realised peak arrival throughput at Sao Paulo (SBSP) exceeded the capacity value as well. At these airports, it appears that during the peak hours (i.e.&nbsp;the top 5% of all hourly arrivals) in 2021 better than declared arrival throughputs were realised. This might be linked to the methodology used for the capacity declaration process following a more modulated approach and accounting for a wider varied aircraft mix. It will be interesting to research in future comparisons how the peak hour demand is managed in comparison to less busier hours and its underlying driving factors.</p>
<!--
## Capacity Utilisation
-->
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>The maximum capacities of Brazilian airports tend to be lower than the declared capacities at European airports. Throughout the past years, Brazil changed its methodology to identify and declare arrival and departure capacities. In light of this change and on the basis of operational improvements, Brazilian airports have been showing consistent growth in their capacities. This growth of traffic is widely completed for the top 10 airports in Europe and the associated capacities were constant over the past years.</p>
<p>Another highlight is the resilience of peak hours against demand variations. Despite the unprecendented decline of air traffic due to COVID19, demand remained concentrated during peak operating hours. On average, the declared arrival capacity is commensurate with the peak traffic observed at the airports. This suggests that runway system capacities is not a limitation for servicing traffic demand in both regions.</p>
</section>
</section>

<div id="quarto-appendix" class="default"><section class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1" role="doc-endnote"><p>The Brazilian airports that have more than one operational runway are: Brasília (SBBR) with 2 independent runways; Guarulhos (SBGR) with 2 parallel runways (simultaneous but not independent operations); and Galeão (SBGL), Curitiba (SBCT) and Salvador (SBSV) with 2 intersecting runways.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2" role="doc-endnote"><p>Amsterdam (EHAM) operates at fixed capacity with 6 runways, London Heathrow has maximised the runway throughput with 2 independent runways, Gatwick airport is reportedly the most efficient single runway operation in Europe.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main>
<!-- /main column -->
<script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    setTimeout(function() {
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->


</body></html>